<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Weighted logistic regression modelling of self-reported depression</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    EDA
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="state_level_eda.html">State-level Explorations</a>
    </li>
    <li>
      <a href="state_level_dashboard.html">Geographic Distribution of mental health outcomes by gender</a>
    </li>
    <li>
      <a href="depression_prev_EDA.html">Self-reported past depression</a>
    </li>
    <li>
      <a href="bad_mh_days_EDA.html"># of days mental health not good in the past 30 days</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistical Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="regression_depr.html">Weighted logistic regression on self-reported past depression</a>
    </li>
    <li>
      <a href="regression_mh_days.html">Weighted logistic regression on # of days mental health not good in the past 30 days</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Post-hoc Explorations
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="ecological.html">Ecological analysis on state-level mental health outcomes</a>
    </li>
    <li>
      <a href="mh_opinions_by_gender.html">Mental health service utilization and public opinions</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://ziqingwang.shinyapps.io/shiny/">Odds to Probability</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="report.html">Report</a>
</li>
<li>
  <a href="mailto:&lt;zw2899@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/ZiqingWang-00/brfss-mental-health.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Weighted logistic regression modelling of
self-reported depression</h1>

</div>


<p>Based on results of former researches and EDA, we categorized
variables selected into main exposures, demographic, socioeconomic, and
health variables, and fitted weighted logistic regression models based
on their category.</p>
<ul>
<li>Main exposures: sex, children</li>
<li>Demographic variables: race, age and marital status</li>
<li>Socioeconomic variables: education, income, employment</li>
<li>Health variables: general health, exercise</li>
</ul>
<div id="crude-model-with-exposures-only" class="section level3">
<h3>Crude model with exposures only</h3>
<p>First, we constructed a crude model with the two exposures only:</p>
<pre class="r"><code>crude_mod_depr = svyglm(depression ~ sex + children, # exposures
       brfss_design,
       family = quasibinomial())
crude_mod_depr %&gt;% broom::tidy(exponentiate=T, conf.int = T, conf.level=0.95) %&gt;% knitr::kable(digits = 3)</code></pre>
<table>
<colgroup>
<col width="28%" />
<col width="11%" />
<col width="12%" />
<col width="12%" />
<col width="10%" />
<col width="11%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">conf.low</th>
<th align="right">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.171</td>
<td align="right">0.015</td>
<td align="right">-119.498</td>
<td align="right">0.000</td>
<td align="right">0.166</td>
<td align="right">0.176</td>
</tr>
<tr class="even">
<td align="left">sexfemale</td>
<td align="right">1.968</td>
<td align="right">0.018</td>
<td align="right">38.374</td>
<td align="right">0.000</td>
<td align="right">1.902</td>
<td align="right">2.038</td>
</tr>
<tr class="odd">
<td align="left">childrenone or two</td>
<td align="right">0.931</td>
<td align="right">0.021</td>
<td align="right">-3.458</td>
<td align="right">0.001</td>
<td align="right">0.894</td>
<td align="right">0.970</td>
</tr>
<tr class="even">
<td align="left">childrenthree or more</td>
<td align="right">0.893</td>
<td align="right">0.037</td>
<td align="right">-3.070</td>
<td align="right">0.002</td>
<td align="right">0.831</td>
<td align="right">0.960</td>
</tr>
</tbody>
</table>
</div>
<div id="model-controlling-for-demographic-variables"
class="section level3">
<h3>Model controlling for demographic variables</h3>
<p>Then we wanted to take demographic covariates into account in our
second model, including race, age and marital status:</p>
<pre class="r"><code>mod2_depr = svyglm(depression ~ sex + children + # exposures
         race + age + marital_status, # demographic covariates
       brfss_design,
       family = quasibinomial())
mod2_depr %&gt;% broom::tidy(exponentiate=T, conf.int = T, conf.level=0.95) %&gt;% knitr::kable(digits = 3)</code></pre>
<table>
<colgroup>
<col width="31%" />
<col width="10%" />
<col width="12%" />
<col width="12%" />
<col width="9%" />
<col width="10%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">conf.low</th>
<th align="right">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.199</td>
<td align="right">0.029</td>
<td align="right">-55.983</td>
<td align="right">0.000</td>
<td align="right">0.188</td>
<td align="right">0.210</td>
</tr>
<tr class="even">
<td align="left">sexfemale</td>
<td align="right">2.066</td>
<td align="right">0.018</td>
<td align="right">39.448</td>
<td align="right">0.000</td>
<td align="right">1.993</td>
<td align="right">2.142</td>
</tr>
<tr class="odd">
<td align="left">childrenone or two</td>
<td align="right">0.871</td>
<td align="right">0.024</td>
<td align="right">-5.839</td>
<td align="right">0.000</td>
<td align="right">0.831</td>
<td align="right">0.912</td>
</tr>
<tr class="even">
<td align="left">childrenthree or more</td>
<td align="right">0.846</td>
<td align="right">0.039</td>
<td align="right">-4.261</td>
<td align="right">0.000</td>
<td align="right">0.783</td>
<td align="right">0.913</td>
</tr>
<tr class="odd">
<td align="left">raceblack</td>
<td align="right">0.534</td>
<td align="right">0.032</td>
<td align="right">-19.817</td>
<td align="right">0.000</td>
<td align="right">0.502</td>
<td align="right">0.568</td>
</tr>
<tr class="even">
<td align="left">raceasian</td>
<td align="right">0.319</td>
<td align="right">0.079</td>
<td align="right">-14.447</td>
<td align="right">0.000</td>
<td align="right">0.274</td>
<td align="right">0.373</td>
</tr>
<tr class="odd">
<td align="left">racehispanic</td>
<td align="right">0.536</td>
<td align="right">0.034</td>
<td align="right">-18.359</td>
<td align="right">0.000</td>
<td align="right">0.501</td>
<td align="right">0.573</td>
</tr>
<tr class="even">
<td align="left">raceother</td>
<td align="right">0.937</td>
<td align="right">0.038</td>
<td align="right">-1.706</td>
<td align="right">0.088</td>
<td align="right">0.869</td>
<td align="right">1.010</td>
</tr>
<tr class="odd">
<td align="left">age30-49</td>
<td align="right">0.971</td>
<td align="right">0.028</td>
<td align="right">-1.053</td>
<td align="right">0.292</td>
<td align="right">0.920</td>
<td align="right">1.025</td>
</tr>
<tr class="even">
<td align="left">age50-64</td>
<td align="right">0.809</td>
<td align="right">0.028</td>
<td align="right">-7.508</td>
<td align="right">0.000</td>
<td align="right">0.766</td>
<td align="right">0.855</td>
</tr>
<tr class="odd">
<td align="left">age65+</td>
<td align="right">0.474</td>
<td align="right">0.030</td>
<td align="right">-25.302</td>
<td align="right">0.000</td>
<td align="right">0.447</td>
<td align="right">0.502</td>
</tr>
<tr class="even">
<td align="left">marital_statusnot married</td>
<td align="right">1.695</td>
<td align="right">0.019</td>
<td align="right">27.449</td>
<td align="right">0.000</td>
<td align="right">1.632</td>
<td align="right">1.760</td>
</tr>
</tbody>
</table>
</div>
<div id="model-controlling-for-demographic-and-socioeconomic-variables"
class="section level3">
<h3>Model controlling for demographic and socioeconomic variables</h3>
<p>In the third model, we added socioeconomic covariates (education,
income, employment) comparing to the second one:</p>
<pre class="r"><code>mod3_depr = svyglm(depression ~ sex + children + # exposures
         race + age + marital_status + # demographic covariates
         education + income + employment, # socioeconomic covariates, 
       brfss_design,
       family = quasibinomial()) 
mod3_depr %&gt;% broom::tidy(exponentiate=T, conf.int = T, conf.level=0.95) %&gt;% knitr::kable(digits = 3)</code></pre>
<table>
<colgroup>
<col width="39%" />
<col width="9%" />
<col width="10%" />
<col width="10%" />
<col width="8%" />
<col width="9%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">conf.low</th>
<th align="right">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.262</td>
<td align="right">0.057</td>
<td align="right">-23.670</td>
<td align="right">0.000</td>
<td align="right">0.235</td>
<td align="right">0.293</td>
</tr>
<tr class="even">
<td align="left">sexfemale</td>
<td align="right">2.036</td>
<td align="right">0.021</td>
<td align="right">33.124</td>
<td align="right">0.000</td>
<td align="right">1.952</td>
<td align="right">2.123</td>
</tr>
<tr class="odd">
<td align="left">childrenone or two</td>
<td align="right">0.880</td>
<td align="right">0.028</td>
<td align="right">-4.602</td>
<td align="right">0.000</td>
<td align="right">0.833</td>
<td align="right">0.929</td>
</tr>
<tr class="even">
<td align="left">childrenthree or more</td>
<td align="right">0.816</td>
<td align="right">0.045</td>
<td align="right">-4.464</td>
<td align="right">0.000</td>
<td align="right">0.747</td>
<td align="right">0.892</td>
</tr>
<tr class="odd">
<td align="left">raceblack</td>
<td align="right">0.460</td>
<td align="right">0.037</td>
<td align="right">-21.042</td>
<td align="right">0.000</td>
<td align="right">0.428</td>
<td align="right">0.495</td>
</tr>
<tr class="even">
<td align="left">raceasian</td>
<td align="right">0.344</td>
<td align="right">0.098</td>
<td align="right">-10.865</td>
<td align="right">0.000</td>
<td align="right">0.284</td>
<td align="right">0.417</td>
</tr>
<tr class="odd">
<td align="left">racehispanic</td>
<td align="right">0.450</td>
<td align="right">0.043</td>
<td align="right">-18.385</td>
<td align="right">0.000</td>
<td align="right">0.413</td>
<td align="right">0.490</td>
</tr>
<tr class="even">
<td align="left">raceother</td>
<td align="right">0.816</td>
<td align="right">0.045</td>
<td align="right">-4.503</td>
<td align="right">0.000</td>
<td align="right">0.746</td>
<td align="right">0.891</td>
</tr>
<tr class="odd">
<td align="left">age30-49</td>
<td align="right">0.963</td>
<td align="right">0.033</td>
<td align="right">-1.141</td>
<td align="right">0.254</td>
<td align="right">0.902</td>
<td align="right">1.028</td>
</tr>
<tr class="even">
<td align="left">age50-64</td>
<td align="right">0.721</td>
<td align="right">0.033</td>
<td align="right">-9.871</td>
<td align="right">0.000</td>
<td align="right">0.676</td>
<td align="right">0.769</td>
</tr>
<tr class="odd">
<td align="left">age65+</td>
<td align="right">0.434</td>
<td align="right">0.039</td>
<td align="right">-21.434</td>
<td align="right">0.000</td>
<td align="right">0.402</td>
<td align="right">0.469</td>
</tr>
<tr class="even">
<td align="left">marital_statusnot married</td>
<td align="right">1.318</td>
<td align="right">0.024</td>
<td align="right">11.728</td>
<td align="right">0.000</td>
<td align="right">1.259</td>
<td align="right">1.380</td>
</tr>
<tr class="odd">
<td align="left">educationhigh school or some college</td>
<td align="right">1.060</td>
<td align="right">0.041</td>
<td align="right">1.420</td>
<td align="right">0.156</td>
<td align="right">0.978</td>
<td align="right">1.150</td>
</tr>
<tr class="even">
<td align="left">educationbachelors or higher</td>
<td align="right">1.009</td>
<td align="right">0.043</td>
<td align="right">0.214</td>
<td align="right">0.830</td>
<td align="right">0.927</td>
<td align="right">1.099</td>
</tr>
<tr class="odd">
<td align="left">income35000-75000</td>
<td align="right">0.806</td>
<td align="right">0.028</td>
<td align="right">-7.820</td>
<td align="right">0.000</td>
<td align="right">0.763</td>
<td align="right">0.850</td>
</tr>
<tr class="even">
<td align="left">income&gt;75000</td>
<td align="right">0.679</td>
<td align="right">0.033</td>
<td align="right">-11.661</td>
<td align="right">0.000</td>
<td align="right">0.636</td>
<td align="right">0.724</td>
</tr>
<tr class="odd">
<td align="left">employmenthomemaker/student/retired</td>
<td align="right">1.152</td>
<td align="right">0.031</td>
<td align="right">4.539</td>
<td align="right">0.000</td>
<td align="right">1.084</td>
<td align="right">1.225</td>
</tr>
<tr class="even">
<td align="left">employmentunemployed</td>
<td align="right">2.531</td>
<td align="right">0.031</td>
<td align="right">29.800</td>
<td align="right">0.000</td>
<td align="right">2.381</td>
<td align="right">2.691</td>
</tr>
</tbody>
</table>
</div>
<div
id="model-controlling-for-demographic-socioeconomic-and-health-variables"
class="section level3">
<h3>Model controlling for demographic, socioeconomic, and health
variables</h3>
<p>Eventually, we fitted the full model considering all covariates:</p>
<pre class="r"><code>full_mod_depr = svyglm(depression ~ sex + children + # exposures
           race + age + marital_status + # demographic covariates
           education + income + employment + # socioeconomic covariates
           general_health + exercise, # health-related covariates
       brfss_design,
       family = quasibinomial())  

full_mod_depr %&gt;% broom::tidy(exponentiate=T, conf.int = T, conf.level=0.95) %&gt;% knitr::kable(digits = 3)</code></pre>
<table>
<colgroup>
<col width="39%" />
<col width="9%" />
<col width="10%" />
<col width="10%" />
<col width="8%" />
<col width="9%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">conf.low</th>
<th align="right">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.107</td>
<td align="right">0.066</td>
<td align="right">-34.081</td>
<td align="right">0.000</td>
<td align="right">0.094</td>
<td align="right">0.121</td>
</tr>
<tr class="even">
<td align="left">sexfemale</td>
<td align="right">2.066</td>
<td align="right">0.022</td>
<td align="right">33.208</td>
<td align="right">0.000</td>
<td align="right">1.979</td>
<td align="right">2.156</td>
</tr>
<tr class="odd">
<td align="left">childrenone or two</td>
<td align="right">0.892</td>
<td align="right">0.028</td>
<td align="right">-4.085</td>
<td align="right">0.000</td>
<td align="right">0.844</td>
<td align="right">0.942</td>
</tr>
<tr class="even">
<td align="left">childrenthree or more</td>
<td align="right">0.850</td>
<td align="right">0.046</td>
<td align="right">-3.554</td>
<td align="right">0.000</td>
<td align="right">0.777</td>
<td align="right">0.930</td>
</tr>
<tr class="odd">
<td align="left">raceblack</td>
<td align="right">0.443</td>
<td align="right">0.038</td>
<td align="right">-21.581</td>
<td align="right">0.000</td>
<td align="right">0.412</td>
<td align="right">0.477</td>
</tr>
<tr class="even">
<td align="left">raceasian</td>
<td align="right">0.342</td>
<td align="right">0.097</td>
<td align="right">-11.072</td>
<td align="right">0.000</td>
<td align="right">0.283</td>
<td align="right">0.413</td>
</tr>
<tr class="odd">
<td align="left">racehispanic</td>
<td align="right">0.430</td>
<td align="right">0.044</td>
<td align="right">-19.254</td>
<td align="right">0.000</td>
<td align="right">0.395</td>
<td align="right">0.469</td>
</tr>
<tr class="even">
<td align="left">raceother</td>
<td align="right">0.787</td>
<td align="right">0.047</td>
<td align="right">-5.146</td>
<td align="right">0.000</td>
<td align="right">0.718</td>
<td align="right">0.862</td>
</tr>
<tr class="odd">
<td align="left">age30-49</td>
<td align="right">0.843</td>
<td align="right">0.033</td>
<td align="right">-5.120</td>
<td align="right">0.000</td>
<td align="right">0.789</td>
<td align="right">0.900</td>
</tr>
<tr class="even">
<td align="left">age50-64</td>
<td align="right">0.568</td>
<td align="right">0.034</td>
<td align="right">-16.450</td>
<td align="right">0.000</td>
<td align="right">0.531</td>
<td align="right">0.608</td>
</tr>
<tr class="odd">
<td align="left">age65+</td>
<td align="right">0.326</td>
<td align="right">0.040</td>
<td align="right">-27.732</td>
<td align="right">0.000</td>
<td align="right">0.301</td>
<td align="right">0.353</td>
</tr>
<tr class="even">
<td align="left">marital_statusnot married</td>
<td align="right">1.307</td>
<td align="right">0.024</td>
<td align="right">11.208</td>
<td align="right">0.000</td>
<td align="right">1.247</td>
<td align="right">1.370</td>
</tr>
<tr class="odd">
<td align="left">educationhigh school or some college</td>
<td align="right">1.198</td>
<td align="right">0.042</td>
<td align="right">4.261</td>
<td align="right">0.000</td>
<td align="right">1.102</td>
<td align="right">1.302</td>
</tr>
<tr class="even">
<td align="left">educationbachelors or higher</td>
<td align="right">1.238</td>
<td align="right">0.045</td>
<td align="right">4.764</td>
<td align="right">0.000</td>
<td align="right">1.134</td>
<td align="right">1.352</td>
</tr>
<tr class="odd">
<td align="left">income35000-75000</td>
<td align="right">0.879</td>
<td align="right">0.028</td>
<td align="right">-4.559</td>
<td align="right">0.000</td>
<td align="right">0.831</td>
<td align="right">0.929</td>
</tr>
<tr class="even">
<td align="left">income&gt;75000</td>
<td align="right">0.805</td>
<td align="right">0.034</td>
<td align="right">-6.369</td>
<td align="right">0.000</td>
<td align="right">0.753</td>
<td align="right">0.860</td>
</tr>
<tr class="odd">
<td align="left">employmenthomemaker/student/retired</td>
<td align="right">1.116</td>
<td align="right">0.032</td>
<td align="right">3.476</td>
<td align="right">0.001</td>
<td align="right">1.049</td>
<td align="right">1.187</td>
</tr>
<tr class="even">
<td align="left">employmentunemployed</td>
<td align="right">2.051</td>
<td align="right">0.032</td>
<td align="right">22.124</td>
<td align="right">0.000</td>
<td align="right">1.925</td>
<td align="right">2.186</td>
</tr>
<tr class="odd">
<td align="left">general_healthvery good/good</td>
<td align="right">2.205</td>
<td align="right">0.034</td>
<td align="right">23.505</td>
<td align="right">0.000</td>
<td align="right">2.065</td>
<td align="right">2.356</td>
</tr>
<tr class="even">
<td align="left">general_healthfair/poor</td>
<td align="right">5.303</td>
<td align="right">0.041</td>
<td align="right">40.714</td>
<td align="right">0.000</td>
<td align="right">4.893</td>
<td align="right">5.746</td>
</tr>
<tr class="odd">
<td align="left">exerciseno</td>
<td align="right">1.141</td>
<td align="right">0.025</td>
<td align="right">5.321</td>
<td align="right">0.000</td>
<td align="right">1.087</td>
<td align="right">1.197</td>
</tr>
</tbody>
</table>
</div>
<div id="model-comparison" class="section level3">
<h3>Model Comparison</h3>
<p>We compared all these models based on Akaike Information Criterion
(AIC), which is an estimator of prediction error and thereby relative
quality of statistical models for a given set of data. Suppose that we
have a statistical model of some data. Let p be the number of estimated
parameters in the model. Let <span
class="math inline">\(\hat{L}\)</span> be the maximized value of the
likelihood function for the model. Then the AIC value of the model is
the following:</p>
<p><span class="math inline">\(AIC = 2k - 2ln(\hat{L})\)</span>.</p>
<p>Given a set of candidate models for the data, the preferred model is
the one with the <strong>minimum AIC value</strong>.</p>
<pre class="r"><code>getAIC = function(m){
  AIC(m) %&gt;%
  broom::tidy() %&gt;%
  filter(names == &quot;AIC&quot;) %&gt;%
    pull(x)}

variables = c(&quot;Exposures only&quot;, &quot;Controlling for demographic variables&quot;, &quot;Controlling for demographic and socioeconomic variables&quot;, &quot;Controlling for demographic, socioeconomic, and health variables&quot;)
model_name = c(&quot;crude_mod_depr&quot;, &quot;mod2_depr&quot;, &quot;mod3_depr&quot;, &quot;full_mod_depr&quot;)
AIC = c(getAIC(crude_mod_depr), getAIC(mod2_depr), getAIC(mod3_depr), getAIC(full_mod_depr))
df = data.frame(model_name, AIC, variables)

df %&gt;%
  knitr::kable(digits = 3)</code></pre>
<table>
<colgroup>
<col width="16%" />
<col width="10%" />
<col width="73%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">model_name</th>
<th align="right">AIC</th>
<th align="left">variables</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">crude_mod_depr</td>
<td align="right">396110.7</td>
<td align="left">Exposures only</td>
</tr>
<tr class="even">
<td align="left">mod2_depr</td>
<td align="right">370597.7</td>
<td align="left">Controlling for demographic variables</td>
</tr>
<tr class="odd">
<td align="left">mod3_depr</td>
<td align="right">280968.4</td>
<td align="left">Controlling for demographic and socioeconomic
variables</td>
</tr>
<tr class="even">
<td align="left">full_mod_depr</td>
<td align="right">270506.8</td>
<td align="left">Controlling for demographic, socioeconomic, and health
variables</td>
</tr>
</tbody>
</table>
<p>From the results of models comparison, we can conclude that the full
model (model controlling for demographic, socioeconomic, and health
variables) is the best model. We can see that being female is associated
with higher odds of reporting past depression, adjusted for other
covariates.</p>
</div>
<div id="subsetted-analysis-by-gender" class="section level3">
<h3>Subsetted analysis by gender</h3>
<p>Here we are interested in our second exposure, the number of children
in the household. Specifically, we are interested in if it affects
self-reported depression diagnosis differently for men and women. In the
full sample, the fitted model indicates that having children in the
household is associated with lower odds of reporting depression. We
subsetted the data into a men-only set and a women-only set and examine
the effect of children separately.</p>
<p>For men:</p>
<pre class="r"><code> brfss_male = brfss_design %&gt;%
   filter(sex == &quot;male&quot;)
 
 svyglm(depression ~ children + # exposures
            race + age + marital_status + # demographic covariates
            education + income + employment + # socioeconomic covariates
            general_health + exercise, # health-related covariates
        brfss_male,
        family = quasibinomial())  %&gt;%
   broom::tidy(exponentiate=T, conf.int = T, conf.level=0.95) %&gt;%
  knitr::kable(digits = 3)</code></pre>
<table>
<colgroup>
<col width="39%" />
<col width="9%" />
<col width="10%" />
<col width="10%" />
<col width="8%" />
<col width="9%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">conf.low</th>
<th align="right">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.093</td>
<td align="right">0.099</td>
<td align="right">-23.911</td>
<td align="right">0.000</td>
<td align="right">0.077</td>
<td align="right">0.113</td>
</tr>
<tr class="even">
<td align="left">childrenone or two</td>
<td align="right">0.838</td>
<td align="right">0.045</td>
<td align="right">-3.950</td>
<td align="right">0.000</td>
<td align="right">0.768</td>
<td align="right">0.915</td>
</tr>
<tr class="odd">
<td align="left">childrenthree or more</td>
<td align="right">0.785</td>
<td align="right">0.086</td>
<td align="right">-2.799</td>
<td align="right">0.005</td>
<td align="right">0.663</td>
<td align="right">0.930</td>
</tr>
<tr class="even">
<td align="left">raceblack</td>
<td align="right">0.560</td>
<td align="right">0.064</td>
<td align="right">-9.098</td>
<td align="right">0.000</td>
<td align="right">0.495</td>
<td align="right">0.635</td>
</tr>
<tr class="odd">
<td align="left">raceasian</td>
<td align="right">0.381</td>
<td align="right">0.120</td>
<td align="right">-8.065</td>
<td align="right">0.000</td>
<td align="right">0.302</td>
<td align="right">0.482</td>
</tr>
<tr class="even">
<td align="left">racehispanic</td>
<td align="right">0.513</td>
<td align="right">0.067</td>
<td align="right">-9.984</td>
<td align="right">0.000</td>
<td align="right">0.450</td>
<td align="right">0.585</td>
</tr>
<tr class="odd">
<td align="left">raceother</td>
<td align="right">0.966</td>
<td align="right">0.072</td>
<td align="right">-0.482</td>
<td align="right">0.630</td>
<td align="right">0.839</td>
<td align="right">1.112</td>
</tr>
<tr class="even">
<td align="left">age30-49</td>
<td align="right">0.942</td>
<td align="right">0.050</td>
<td align="right">-1.195</td>
<td align="right">0.232</td>
<td align="right">0.855</td>
<td align="right">1.039</td>
</tr>
<tr class="odd">
<td align="left">age50-64</td>
<td align="right">0.588</td>
<td align="right">0.052</td>
<td align="right">-10.263</td>
<td align="right">0.000</td>
<td align="right">0.531</td>
<td align="right">0.651</td>
</tr>
<tr class="even">
<td align="left">age65+</td>
<td align="right">0.368</td>
<td align="right">0.064</td>
<td align="right">-15.700</td>
<td align="right">0.000</td>
<td align="right">0.324</td>
<td align="right">0.416</td>
</tr>
<tr class="odd">
<td align="left">marital_statusnot married</td>
<td align="right">1.359</td>
<td align="right">0.038</td>
<td align="right">8.177</td>
<td align="right">0.000</td>
<td align="right">1.263</td>
<td align="right">1.463</td>
</tr>
<tr class="even">
<td align="left">educationhigh school or some college</td>
<td align="right">1.190</td>
<td align="right">0.061</td>
<td align="right">2.837</td>
<td align="right">0.005</td>
<td align="right">1.055</td>
<td align="right">1.342</td>
</tr>
<tr class="odd">
<td align="left">educationbachelors or higher</td>
<td align="right">1.325</td>
<td align="right">0.064</td>
<td align="right">4.385</td>
<td align="right">0.000</td>
<td align="right">1.168</td>
<td align="right">1.503</td>
</tr>
<tr class="even">
<td align="left">income35000-75000</td>
<td align="right">0.841</td>
<td align="right">0.043</td>
<td align="right">-4.018</td>
<td align="right">0.000</td>
<td align="right">0.773</td>
<td align="right">0.915</td>
</tr>
<tr class="odd">
<td align="left">income&gt;75000</td>
<td align="right">0.812</td>
<td align="right">0.052</td>
<td align="right">-4.039</td>
<td align="right">0.000</td>
<td align="right">0.734</td>
<td align="right">0.898</td>
</tr>
<tr class="even">
<td align="left">employmenthomemaker/student/retired</td>
<td align="right">1.317</td>
<td align="right">0.052</td>
<td align="right">5.285</td>
<td align="right">0.000</td>
<td align="right">1.189</td>
<td align="right">1.458</td>
</tr>
<tr class="odd">
<td align="left">employmentunemployed</td>
<td align="right">2.364</td>
<td align="right">0.050</td>
<td align="right">17.335</td>
<td align="right">0.000</td>
<td align="right">2.145</td>
<td align="right">2.605</td>
</tr>
<tr class="even">
<td align="left">general_healthvery good/good</td>
<td align="right">2.046</td>
<td align="right">0.054</td>
<td align="right">13.354</td>
<td align="right">0.000</td>
<td align="right">1.842</td>
<td align="right">2.272</td>
</tr>
<tr class="odd">
<td align="left">general_healthfair/poor</td>
<td align="right">4.783</td>
<td align="right">0.063</td>
<td align="right">24.706</td>
<td align="right">0.000</td>
<td align="right">4.224</td>
<td align="right">5.415</td>
</tr>
<tr class="even">
<td align="left">exerciseno</td>
<td align="right">1.217</td>
<td align="right">0.040</td>
<td align="right">4.957</td>
<td align="right">0.000</td>
<td align="right">1.126</td>
<td align="right">1.315</td>
</tr>
</tbody>
</table>
<p>For women:</p>
<pre class="r"><code> brfss_female = brfss_design %&gt;%
   filter(sex == &quot;female&quot;)
 
 svyglm(depression ~ children + # exposures
            race + age + marital_status + # demographic covariates
            education + income + employment + # socioeconomic covariates
            general_health + exercise, # health-related covariates
        brfss_female,
        family = quasibinomial())  %&gt;%
   broom::tidy(exponentiate=T, conf.int = T, conf.level=0.95)  %&gt;%
   knitr::kable(digits = 3)</code></pre>
<table>
<colgroup>
<col width="39%" />
<col width="9%" />
<col width="10%" />
<col width="10%" />
<col width="8%" />
<col width="9%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">conf.low</th>
<th align="right">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">0.243</td>
<td align="right">0.086</td>
<td align="right">-16.500</td>
<td align="right">0.000</td>
<td align="right">0.205</td>
<td align="right">0.287</td>
</tr>
<tr class="even">
<td align="left">childrenone or two</td>
<td align="right">0.942</td>
<td align="right">0.037</td>
<td align="right">-1.643</td>
<td align="right">0.100</td>
<td align="right">0.876</td>
<td align="right">1.012</td>
</tr>
<tr class="odd">
<td align="left">childrenthree or more</td>
<td align="right">0.915</td>
<td align="right">0.055</td>
<td align="right">-1.626</td>
<td align="right">0.104</td>
<td align="right">0.822</td>
<td align="right">1.018</td>
</tr>
<tr class="even">
<td align="left">raceblack</td>
<td align="right">0.385</td>
<td align="right">0.045</td>
<td align="right">-21.103</td>
<td align="right">0.000</td>
<td align="right">0.352</td>
<td align="right">0.420</td>
</tr>
<tr class="odd">
<td align="left">raceasian</td>
<td align="right">0.319</td>
<td align="right">0.137</td>
<td align="right">-8.363</td>
<td align="right">0.000</td>
<td align="right">0.244</td>
<td align="right">0.417</td>
</tr>
<tr class="even">
<td align="left">racehispanic</td>
<td align="right">0.382</td>
<td align="right">0.057</td>
<td align="right">-16.751</td>
<td align="right">0.000</td>
<td align="right">0.341</td>
<td align="right">0.428</td>
</tr>
<tr class="odd">
<td align="left">raceother</td>
<td align="right">0.674</td>
<td align="right">0.059</td>
<td align="right">-6.651</td>
<td align="right">0.000</td>
<td align="right">0.600</td>
<td align="right">0.757</td>
</tr>
<tr class="even">
<td align="left">age30-49</td>
<td align="right">0.778</td>
<td align="right">0.045</td>
<td align="right">-5.550</td>
<td align="right">0.000</td>
<td align="right">0.712</td>
<td align="right">0.850</td>
</tr>
<tr class="odd">
<td align="left">age50-64</td>
<td align="right">0.548</td>
<td align="right">0.046</td>
<td align="right">-13.022</td>
<td align="right">0.000</td>
<td align="right">0.501</td>
<td align="right">0.600</td>
</tr>
<tr class="even">
<td align="left">age65+</td>
<td align="right">0.301</td>
<td align="right">0.053</td>
<td align="right">-22.878</td>
<td align="right">0.000</td>
<td align="right">0.271</td>
<td align="right">0.333</td>
</tr>
<tr class="odd">
<td align="left">marital_statusnot married</td>
<td align="right">1.290</td>
<td align="right">0.031</td>
<td align="right">8.145</td>
<td align="right">0.000</td>
<td align="right">1.213</td>
<td align="right">1.372</td>
</tr>
<tr class="even">
<td align="left">educationhigh school or some college</td>
<td align="right">1.187</td>
<td align="right">0.058</td>
<td align="right">2.958</td>
<td align="right">0.003</td>
<td align="right">1.060</td>
<td align="right">1.329</td>
</tr>
<tr class="odd">
<td align="left">educationbachelors or higher</td>
<td align="right">1.156</td>
<td align="right">0.062</td>
<td align="right">2.354</td>
<td align="right">0.019</td>
<td align="right">1.025</td>
<td align="right">1.305</td>
</tr>
<tr class="even">
<td align="left">income35000-75000</td>
<td align="right">0.909</td>
<td align="right">0.038</td>
<td align="right">-2.540</td>
<td align="right">0.011</td>
<td align="right">0.844</td>
<td align="right">0.978</td>
</tr>
<tr class="odd">
<td align="left">income&gt;75000</td>
<td align="right">0.814</td>
<td align="right">0.046</td>
<td align="right">-4.512</td>
<td align="right">0.000</td>
<td align="right">0.744</td>
<td align="right">0.890</td>
</tr>
<tr class="even">
<td align="left">employmenthomemaker/student/retired</td>
<td align="right">1.015</td>
<td align="right">0.039</td>
<td align="right">0.370</td>
<td align="right">0.712</td>
<td align="right">0.939</td>
<td align="right">1.096</td>
</tr>
<tr class="odd">
<td align="left">employmentunemployed</td>
<td align="right">1.827</td>
<td align="right">0.042</td>
<td align="right">14.254</td>
<td align="right">0.000</td>
<td align="right">1.682</td>
<td align="right">1.985</td>
</tr>
<tr class="even">
<td align="left">general_healthvery good/good</td>
<td align="right">2.324</td>
<td align="right">0.043</td>
<td align="right">19.572</td>
<td align="right">0.000</td>
<td align="right">2.136</td>
<td align="right">2.529</td>
</tr>
<tr class="odd">
<td align="left">general_healthfair/poor</td>
<td align="right">5.708</td>
<td align="right">0.054</td>
<td align="right">32.552</td>
<td align="right">0.000</td>
<td align="right">5.140</td>
<td align="right">6.339</td>
</tr>
<tr class="even">
<td align="left">exerciseno</td>
<td align="right">1.101</td>
<td align="right">0.032</td>
<td align="right">3.053</td>
<td align="right">0.002</td>
<td align="right">1.035</td>
<td align="right">1.171</td>
</tr>
</tbody>
</table>
<p>From subsetted regression, we can conclude that the number of
children influences women and men in different ways. Specifically, for
men, having children in the household is associated with lower odds of
reporting depression. However, for women, having children in the
household is not associated with lower odds of reporting depression.</p>
</div>
<div id="additional-findings" class="section level3">
<h3>Additional findings</h3>
<p>According to the final model, we found that being non-white, older
age, being married, higher annual income, being employed for salary,
excellent physical health, and phisical exercise are associated with
lower odds of self-reported depression.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
